@import 'tailwindcss';

@config "./../../tailwind.config.ts";

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--ui-border-color);
  }
}

@utility text-display {
  /* Typography */
  color: var(--display-text-color);
}

@utility text-title {
  color: var(--title-text-color);
}

@utility text-body {
  color: var(--body-text-color);
}

@utility text-caption {
  color: var(--caption-text-color);
}

@utility text-placeholder {
  color: var(--placeholder-text-color);
}

@utility rounded-card {
  /* Border Radius */
  border-radius: var(--card-radius);
}

@utility rounded-btn {
  border-radius: var(--btn-radius);
}

@utility rounded-badge {
  border-radius: var(--badge-radius);
}

@utility rounded-annonce {
  border-radius: var(--annonce-radius);
}

@utility rounded-input {
  border-radius: var(--input-radius);
}

@utility rounded-avatar {
  border-radius: var(--avatar-radius);
}

@utility bg-ui {
  /* Background */
  background: var(--ui-bg);
}

@utility bg-ui-soft {
  background: var(--ui-soft-bg);
}

@utility bg-overlay {
  background: var(--overlay-bg);
}

@utility tls-shadow {
  --tw-shadow-color: --theme(--color-gray-950 / 0.05);

  /* Shadow */
  box-shadow:
    0 0 0 1px var(--ui-border-color),
    0 0.5px 0.5px -0.125px var(--tw-shadow-color),
    0 1px 1px -0.5px var(--tw-shadow-color),
    0 2px 2px -1px var(--tw-shadow-color),
    0 4px 4px -2px var(--tw-shadow-color),
    0 8px 8px -4px var(--tw-shadow-color);
}

@utility tls-shadow-md {
  --tw-shadow-color: --theme(--color-gray-950 / 0.05);
  box-shadow:
    0 0 0 1px var(--ui-border-color),
    0 1px 1px -0.25px var(--tw-shadow-color),
    0 2px 2px -0.5px var(--tw-shadow-color),
    0 4px 4px -1px var(--tw-shadow-color),
    0 8px 8px -2px var(--tw-shadow-color),
    0 16px 16px -4px var(--tw-shadow-color);
}

@utility tls-shadow-lg {
  --tw-shadow-color: --theme(--color-gray-950 / 0.05);
  box-shadow:
    0 0 0 1px var(--ui-border-color),
    0 2px 2px -0.5px var(--tw-shadow-color),
    0 4px 4px -1px var(--tw-shadow-color),
    0 8px 8px -2px var(--tw-shadow-color),
    0 16px 16px -4px var(--tw-shadow-color),
    0 32px 32px -8px var(--tw-shadow-color);
}

@utility text-blockquote {
  /* Typography */
  color: var(--body-text-color);
  @apply border-l-2 pl-4 italic;
}

@utility text-quote {
  color: var(--body-text-color);
  @apply border-l-2 pl-4 italic;
}

@utility btn {
  /* Button */
  @apply flex items-center justify-center gap-2.5 rounded-(--btn-radius) *:relative;

  &.variant-primary {
    @apply relative [text-shadow:_0_1px_0_var(--tw-shadow-color)];
  }

  &.variant-destructive {
    @apply relative [text-shadow:_0_1px_0_var(--tw-shadow-color)];
  }

  &.variant-neutral > .btn-label {
    @apply relative [text-shadow:_0_1px_0_var(--tw-shadow-color)];
  }

  &.variant-neutral > .btn-label {
    @apply dark:[text-shadow:none];
  }

  &.variant-neutral {
    @apply text-white transition-[filter] duration-300 before:inset-0;
  }

  &.variant-primary {
    @apply text-white transition-[filter] duration-300 before:inset-0;
  }

  &.variant-destructive {
    @apply text-white transition-[filter] duration-300 before:inset-0;
  }

  &.variant-neutral {
    @apply relative bg-linear-to-b shadow-xs before:absolute before:rounded-[calc(var(--btn-radius)-1px)] before:border-t;
  }

  &.variant-primary {
    @apply relative bg-linear-to-b shadow-xs before:absolute before:rounded-[calc(var(--btn-radius)-1px)] before:border-t;
  }

  &.variant-destructive {
    @apply relative bg-linear-to-b shadow-xs before:absolute before:rounded-[calc(var(--btn-radius)-1px)] before:border-t;
  }

  &.variant-outlined {
    @apply relative bg-linear-to-b shadow-xs before:absolute before:rounded-[calc(var(--btn-radius)-1px)] before:border-t;
  }

  &.variant-neutral {
    @apply border;
  }

  &.variant-primary {
    @apply border;
  }

  &.variant-destructive {
    @apply border;
  }

  &.variant-soft {
    @apply border;
  }

  &.variant-neutral {
    @apply border-gray-800 from-gray-700 to-gray-900 shadow-gray-950/25 before:border-white/25 hover:brightness-125 active:brightness-75 dark:border-white dark:bg-white dark:from-transparent dark:to-transparent dark:text-gray-950 dark:shadow-gray-950/5 dark:hover:bg-white/75;
  }

  &.variant-primary {
    @apply border-primary-700 from-primary-500 to-primary-600 shadow-primary-950/25 before:border-white/25 hover:brightness-110 active:brightness-95 dark:border-white/15 dark:from-primary-600 dark:to-primary-600 dark:shadow-primary-950/10 dark:before:border-transparent;
  }

  &.variant-destructive {
    @apply border-danger-700 from-danger-500 to-danger-600 shadow-danger-950/25 before:border-white/25 hover:brightness-110 active:brightness-95 dark:border-white/15 dark:from-danger-600 dark:to-danger-600 dark:shadow-danger-950/10 dark:before:border-transparent;
  }

  &.variant-outlined {
    @apply from-gray-300/75 from-85% to-gray-400/50 text-gray-950 before:inset-px before:border-t before:border-white before:bg-white before:transition-[background,border-color] before:duration-300 hover:before:bg-gray-100 active:before:bg-gray-200 dark:from-transparent dark:to-transparent dark:text-white dark:before:inset-0 dark:before:border dark:before:border-white/10 dark:before:bg-white/5 dark:hover:before:bg-white/10 dark:active:before:bg-white/15;
  }

  &.variant-soft {
    @apply border-transparent bg-gray-950/[0.07] transition-[background,border-color] duration-300 hover:border-gray-950/10 active:bg-gray-950/15 dark:bg-gray-500/15 dark:hover:border-white/10 dark:active:bg-gray-500/20;
  }

  &.variant-ghost {
    @apply transition-[background] duration-300 hover:bg-gray-950/[0.07] active:bg-gray-950/15 dark:hover:bg-gray-500/15 dark:active:bg-gray-500/20;
  }

  &.sz-xs {
    @apply h-7 px-2.5 text-sm;
  }

  &.sz-sm {
    @apply h-8 px-3 text-sm;
  }

  &.sz-md {
    @apply h-9 px-3.5 text-sm;
  }

  &.sz-lg {
    @apply h-10 px-4 text-base;
  }

  &.sz-xl {
    @apply h-12 px-6 text-lg;
  }

  &.icon-only {
    @apply px-0;
  }

  &.icon-only.sz-xs {
    @apply size-7;
  }

  &.icon-only.sz-sm {
    @apply size-8;
  }

  &.icon-only.sz-md {
    @apply size-9;
  }

  &.icon-only.sz-lg {
    @apply size-10;
  }

  &.icon-only.sz-xl {
    @apply size-12;
  }
}

@utility variant-primary {
  &.btn {
    @apply relative [text-shadow:_0_1px_0_var(--tw-shadow-color)];
  }

  & .btn {
    @apply text-white transition-[filter] duration-300 before:inset-0;
  }

  & .btn {
    @apply relative bg-linear-to-b shadow-xs before:absolute before:rounded-[calc(var(--btn-radius)-1px)] before:border-t;
  }

  & .btn {
    @apply border;
  }

  &.btn {
    @apply border-primary-700 from-primary-500 to-primary-600 shadow-primary-950/25 before:border-white/25 hover:brightness-110 active:brightness-95 dark:border-white/15 dark:from-primary-600 dark:to-primary-600 dark:shadow-primary-950/10 dark:before:border-transparent;
  }

  &.switch {
    @apply has-checked:bg-primary-600;
  }

  &.code {
    @apply border border-primary-200 bg-primary-50 text-primary-600 dark:border-primary-500/20 dark:bg-primary-500/5 dark:text-primary-300;
  }

  &.annonce-concern {
    @apply bg-primary-600 text-white;
  }

  &.progress-indicator {
    @apply bg-primary-600;
  }
}

@utility variant-destructive {
  & .btn {
    @apply relative [text-shadow:_0_1px_0_var(--tw-shadow-color)];
  }

  & .btn {
    @apply text-white transition-[filter] duration-300 before:inset-0;
  }

  & .btn {
    @apply relative bg-linear-to-b shadow-xs before:absolute before:rounded-[calc(var(--btn-radius)-1px)] before:border-t;
  }

  & .btn {
    @apply border;
  }

  &.btn {
    @apply border-danger-700 from-danger-500 to-danger-600 shadow-danger-950/25 before:border-white/25 hover:brightness-110 active:brightness-95 dark:border-white/15 dark:from-danger-600 dark:to-danger-600 dark:shadow-danger-950/10 dark:before:border-transparent;
  }
}

@utility variant-neutral {
  & .btn > .btn-label {
    @apply relative [text-shadow:_0_1px_0_var(--tw-shadow-color)];
  }

  &.btn > .btn-label {
    @apply dark:[text-shadow:none];
  }

  &.btn {
    @apply text-white transition-[filter] duration-300 before:inset-0;
  }

  &.btn {
    @apply relative bg-linear-to-b shadow-xs before:absolute before:rounded-[calc(var(--btn-radius)-1px)] before:border-t;
  }

  &.btn {
    @apply border;
  }

  &.btn {
    @apply border-gray-800 from-gray-700 to-gray-900 shadow-gray-950/25 before:border-white/25 hover:brightness-125 active:brightness-75 dark:border-white dark:bg-white dark:from-transparent dark:to-transparent dark:text-gray-950 dark:shadow-gray-950/5 dark:hover:bg-white/75;
  }

  &.badge {
    @apply border-gray-500/15 bg-gray-500/10 text-(--body-text-color) dark:border-gray-500/20 dark:bg-gray-500/15;
  }

  &.switch-thumb {
    @apply absolute inset-x-[1px] inset-y-0 my-auto size-4 rounded-full bg-white shadow-xs shadow-gray-950/25 transition-[transform,width] duration-300 ease-in-out will-change-transform peer-checked:translate-x-3 dark:peer-checked:bg-gray-900;
  }

  &.switch {
    @apply has-checked:bg-gray-950 dark:has-checked:bg-white;
  }

  &.code {
    @apply border bg-gray-50 text-gray-950 dark:border-gray-500/20 dark:bg-gray-500/5 dark:text-white;
  }

  &.annonce-concern {
    @apply border border-gray-500/15 bg-gray-500/15 text-gray-950 dark:text-white;
  }
  &.progress-indicator {
    @apply bg-gray-950 dark:bg-white;
  }
  &.callout {
    @apply bg-gray-50 [--title-text-color:var(--color-gray-950)] dark:bg-gray-500/5 dark:[--title-text-color:var(--color-white)];
  }
}

@utility btn-label {
  .btn.variant-neutral > & {
    @apply relative [text-shadow:_0_1px_0_var(--tw-shadow-color)];
  }

  .btn.variant-neutral > & {
    @apply dark:[text-shadow:none];
  }
}

@utility variant-outlined {
  & .btn {
    @apply relative bg-linear-to-b shadow-xs before:absolute before:rounded-[calc(var(--btn-radius)-1px)] before:border-t;
  }

  &.btn {
    @apply from-gray-300/75 from-85% to-gray-400/50 text-gray-950 before:inset-px before:border-t before:border-white before:bg-white before:transition-[background,border-color] before:duration-300 hover:before:bg-gray-100 active:before:bg-gray-200 dark:from-transparent dark:to-transparent dark:text-white dark:before:inset-0 dark:before:border dark:before:border-white/10 dark:before:bg-white/5 dark:hover:before:bg-white/10 dark:active:before:bg-white/15;
  }

  &.input {
    @apply border bg-transparent outline-2 -outline-offset-1 focus:outline focus:outline-(--input-outline);
  }

  & .textarea {
    @apply border bg-transparent outline-2 -outline-offset-1 focus:outline focus:outline-(--input-outline);
  }

  & .input.sz-sm {
    @apply px-2.5;
  }

  & .textarea.sz-sm {
    @apply px-2.5;
  }

  & .input.sz-md {
    @apply px-3;
  }

  & .textarea.sz-md {
    @apply px-3;
  }

  & .input.sz-lg {
    @apply px-4;
  }

  & .textarea.sz-lg {
    @apply px-4;
  }

  & .input.sz-xl {
    @apply px-5;
  }

  & .textarea.sz-xl {
    @apply px-5;
  }

  &.card {
    @apply border bg-(--ui-bg);
  }

  &.annonce {
    @apply border;
  }
}

@utility variant-soft {
  & .btn {
    @apply border;
  }

  &.btn {
    @apply border-transparent bg-gray-950/[0.07] transition-[background,border-color] duration-300 hover:border-gray-950/10 active:bg-gray-950/15 dark:bg-gray-500/15 dark:hover:border-white/10 dark:active:bg-gray-500/20;
  }

  &.input {
    @apply bg-(--ui-soft-bg) outline-hidden focus:brightness-95 dark:focus:brightness-105;
  }

  & .textarea {
    @apply bg-(--ui-soft-bg) outline-hidden focus:brightness-95 dark:focus:brightness-105;
  }

  & .input.sz-sm {
    @apply px-2.5;
  }

  & .textarea.sz-sm {
    @apply px-2.5;
  }

  & .input.sz-md {
    @apply px-3;
  }

  & .textarea.sz-md {
    @apply px-3;
  }

  & .input.sz-lg {
    @apply px-4;
  }

  & .textarea.sz-lg {
    @apply px-4;
  }

  & .input.sz-xl {
    @apply px-5;
  }

  & .textarea.sz-xl {
    @apply px-5;
  }

  &.card {
    @apply bg-(--ui-soft-bg);
  }

  &.annonce {
    @apply bg-(--ui-soft-bg);
  }
}

@utility variant-ghost {
  &.btn {
    @apply transition-[background] duration-300 hover:bg-gray-950/[0.07] active:bg-gray-950/15 dark:hover:bg-gray-500/15 dark:active:bg-gray-500/20;
  }

  &.link {
    @apply hover:underline;
  }

  & .link.intent-neutral {
    @apply decoration-gray-950/50 dark:decoration-white/50;
  }
}

@utility sz-xs {
  &.btn {
    @apply h-7 px-2.5 text-sm;
  }

  &.btn.icon-only {
    @apply size-7;
  }

  &.badge {
    @apply px-1.5 py-0.5 text-xs;
  }

  &.annonce {
    @apply py-0.5 pl-0.5 pr-3 [&>span]:rounded-[calc(var(--annonce-radius)-2px)];
  }

  &.annonce-concern {
    @apply text-xs;
  }

  &.progress {
    @apply h-0.5;
  }

  &.avatar {
    @apply before:size-2 before:border-[1px];
  }

  &.avatar {
    @apply size-7 text-xs;
  }
}

@utility sz-sm {
  &.btn {
    @apply h-8 px-3 text-sm;
  }

  &.btn.icon-only {
    @apply size-8;
  }

  &.badge {
    @apply px-2 py-0.5 text-sm;
  }

  &.input {
    @apply h-8 text-sm;
  }

  &.textarea {
    @apply py-1.5 text-sm;
  }

  &.input.variant-mixed {
    @apply px-2.5;
  }

  & .input.variant-outlined {
    @apply px-2.5;
  }

  & .input.variant-soft {
    @apply px-2.5;
  }

  & .textarea.variant-mixed {
    @apply px-2.5;
  }

  & .textarea.variant-outlined {
    @apply px-2.5;
  }

  & .textarea.variant-soft {
    @apply px-2.5;
  }

  &.annonce {
    @apply py-1 pl-1 pr-4 [&>span]:rounded-[calc(var(--annonce-radius)-4px)];
  }

  &.annonce-concern {
    @apply text-sm;
  }

  &.progress {
    @apply h-1;
  }

  & .avatar {
    @apply before:size-2 before:border-[1px];
  }

  &.avatar {
    @apply size-8 text-sm;
  }
}

@utility sz-md {
  &.btn {
    @apply h-9 px-3.5 text-sm;
  }

  &.btn.icon-only {
    @apply size-9;
  }

  &.badge {
    @apply px-2.5 py-0.5 text-sm;
  }

  &.input {
    @apply h-9 text-sm;
  }

  &.textarea {
    @apply py-2 text-sm;
  }

  &.input.variant-mixed {
    @apply px-3;
  }

  & .input.variant-outlined {
    @apply px-3;
  }

  & .input.variant-soft {
    @apply px-3;
  }

  & .textarea.variant-mixed {
    @apply px-3;
  }

  & .textarea.variant-outlined {
    @apply px-3;
  }

  & .textarea.variant-soft {
    @apply px-3;
  }

  &.annonce {
    @apply py-1.5 pl-1.5 pr-5 [&>span]:rounded-[calc(var(--annonce-radius)-6px)];
  }

  &.annonce-concern {
    @apply px-2.5 text-sm;
  }

  &.progress {
    @apply h-1.5;
  }

  &.avatar {
    @apply size-9 text-sm before:right-px before:size-2.5 before:border-2;
  }
}

@utility sz-lg {
  &.btn {
    @apply h-10 px-4 text-base;
  }

  &.btn.icon-only {
    @apply size-10;
  }

  &.badge {
    @apply px-2.5 py-0.5 text-base;
  }

  &.input {
    @apply h-10;
  }

  &.textarea {
    @apply py-3;
  }

  &.input.variant-mixed {
    @apply px-4;
  }

  & .input.variant-outlined {
    @apply px-4;
  }

  & .input.variant-soft {
    @apply px-4;
  }

  & .textarea.variant-mixed {
    @apply px-4;
  }

  & .textarea.variant-outlined {
    @apply px-4;
  }

  & .textarea.variant-soft {
    @apply px-4;
  }

  &.annonce {
    @apply py-2 pl-2 pr-6 [&>span]:rounded-[calc(var(--annonce-radius)-8px)];
  }

  &.annonce-concern {
    @apply px-3 py-1 text-base;
  }

  &.progress {
    @apply h-2.5;
  }

  &.avatar {
    @apply size-10 text-base before:right-0.5 before:top-0.5 before:size-2.5 before:border-[2px];
  }
}

@utility sz-xl {
  &.btn {
    @apply h-12 px-6 text-lg;
  }

  &.btn.icon-only {
    @apply size-12;
  }

  &.input {
    @apply h-12;
  }

  &.textarea {
    @apply py-4;
  }

  &.input.variant-mixed {
    @apply px-5;
  }

  & .input.variant-outlined {
    @apply px-5;
  }

  & .input.variant-soft {
    @apply px-5;
  }

  & .textarea.variant-mixed {
    @apply px-5;
  }

  & .textarea.variant-outlined {
    @apply px-5;
  }

  & .textarea.variant-soft {
    @apply px-5;
  }

  &.progress {
    @apply h-3.5;
  }

  &.avatar {
    @apply size-12 text-lg before:right-[3px] before:top-[3px] before:size-2.5 before:border-2;
  }
}

@utility icon-only {
  &.btn {
    @apply px-0;
  }

  &.btn.sz-xs {
    @apply size-7;
  }

  &.btn.sz-sm {
    @apply size-8;
  }

  &.btn.sz-md {
    @apply size-9;
  }

  &.btn.sz-lg {
    @apply size-10;
  }

  &.btn.sz-xl {
    @apply size-12;
  }
}

@utility badge {
  /* Badge */
  @apply flex size-fit items-center gap-1.5 rounded-(--badge-radius) border;

  &.variant-neutral {
    @apply border-gray-500/15 bg-gray-500/10 text-(--body-text-color) dark:border-gray-500/20 dark:bg-gray-500/15;
  }

  &.variant-info {
    @apply border-info-500/15 bg-info-500/15 text-info-700 dark:border-info-500/20 dark:text-info-300;
  }

  &.variant-success {
    @apply border-success-500/25 bg-success-500/15 text-success-800 dark:border-success-500/15 dark:text-success-300;
  }

  &.variant-warning {
    @apply border-warning-500/25 bg-warning-500/15 text-warning-800 dark:border-warning-500/15 dark:text-warning-200;
  }

  &.variant-danger {
    @apply border-danger-500/15 bg-danger-500/15 text-danger-700 dark:text-danger-300;
  }

  &.variant-urgent {
    @apply border-danger-600 bg-danger-600 text-white;
  }

  &.sz-xs {
    @apply px-1.5 py-0.5 text-xs;
  }

  &.sz-sm {
    @apply px-2 py-0.5 text-sm;
  }

  &.sz-md {
    @apply px-2.5 py-0.5 text-sm;
  }

  &.sz-lg {
    @apply px-2.5 py-0.5 text-base;
  }
}

@utility variant-info {
  &.badge {
    @apply border-info-500/15 bg-info-500/15 text-info-700 dark:border-info-500/20 dark:text-info-300;
  }
}

@utility variant-success {
  &.badge {
    @apply border-success-500/25 bg-success-500/15 text-success-800 dark:border-success-500/15 dark:text-success-300;
  }
  &.progress-indicator {
    @apply bg-success-600;
  }
}

@utility variant-warning {
  &.badge {
    @apply border-warning-500/25 bg-warning-500/15 text-warning-800 dark:border-warning-500/15 dark:text-warning-200;
  }
  &.progress-indicator {
    @apply bg-warning-600;
  }

  &.callout {
    @apply bg-warning-50 [--title-text-color:var(--color-warning-950)] dark:border-white/5 dark:bg-warning-500/5 dark:[--title-text-color:var(--color-white)];
  }
}

@utility variant-danger {
  &.badge {
    @apply border-danger-500/15 bg-danger-500/15 text-danger-700 dark:text-danger-300;
  }
  &.progress-indicator {
    @apply bg-danger-600;
  }
  &.callout {
    @apply bg-danger-50 [--title-text-color:var(--color-danger-950)] dark:border-white/5 dark:bg-danger-500/5 dark:[--title-text-color:var(--color-white)];
  }
}

@utility variant-urgent {
  &.badge {
    @apply border-danger-600 bg-danger-600 text-white;
  }
}

@utility field {
  /* Form field, input and textarea */
  @apply relative space-y-2.5 has-[:user-invalid]:[--caption-text-color:var(--color-danger-600)] has-disabled:*:pointer-events-none has-disabled:*:opacity-50 dark:has-[:user-invalid]:[--caption-text-color:var(--color-danger-400)];
}

@utility input {
  @apply w-full rounded-(--input-radius) text-(--title-text-color) placeholder-(--placeholder-text-color);

  &.variant-outlined {
    @apply border bg-transparent outline-2 -outline-offset-1 focus:outline focus:outline-(--input-outline);
  }

  &.variant-mixed {
    @apply border bg-(--ui-bg) shadow-xs shadow-gray-950/5 outline-2 -outline-offset-1 focus:outline focus:outline-(--input-outline) dark:shadow-gray-950/35;
  }

  &.variant-soft {
    @apply bg-(--ui-soft-bg) outline-hidden focus:brightness-95 dark:focus:brightness-105;
  }

  &.variant-plain {
    @apply rounded-none bg-transparent outline-hidden;
  }

  &.variant-bottomOutlined {
    @apply rounded-none border-b bg-transparent focus:border-b-2 focus:border-(--input-outline) focus:outline-hidden;
  }

  &.sz-sm {
    @apply h-8 text-sm;
  }

  &.sz-md {
    @apply h-9 text-sm;
  }

  &.sz-lg {
    @apply h-10;
  }

  &.sz-xl {
    @apply h-12;
  }

  &.variant-mixed.sz-sm {
    @apply px-2.5;
  }

  &.variant-outlined.sz-sm {
    @apply px-2.5;
  }

  &.variant-soft.sz-sm {
    @apply px-2.5;
  }

  &.variant-mixed.sz-md {
    @apply px-3;
  }

  &.variant-outlined.sz-md {
    @apply px-3;
  }

  &.variant-soft.sz-md {
    @apply px-3;
  }

  &.variant-mixed.sz-lg {
    @apply px-4;
  }

  &.variant-outlined.sz-lg {
    @apply px-4;
  }

  &.variant-soft.sz-lg {
    @apply px-4;
  }

  &.variant-mixed.sz-xl {
    @apply px-5;
  }

  &.variant-outlined.sz-xl {
    @apply px-5;
  }

  &.variant-soft.sz-xl {
    @apply px-5;
  }
}

@utility textarea {
  @apply w-full rounded-(--input-radius) text-(--title-text-color) placeholder-(--placeholder-text-color);

  &.variant-outlined {
    @apply border bg-transparent outline-2 -outline-offset-1 focus:outline focus:outline-(--input-outline);
  }

  &.variant-mixed {
    @apply border bg-(--ui-bg) shadow-xs shadow-gray-950/5 outline-2 -outline-offset-1 focus:outline focus:outline-(--input-outline) dark:shadow-gray-950/35;
  }

  &.variant-soft {
    @apply bg-(--ui-soft-bg) outline-hidden focus:brightness-95 dark:focus:brightness-105;
  }

  &.variant-plain {
    @apply rounded-none bg-transparent outline-hidden;
  }

  &.variant-bottomOutlined {
    @apply rounded-none border-b bg-transparent focus:border-b-2 focus:border-(--input-outline) focus:outline-hidden;
  }

  &.sz-sm {
    @apply py-1.5 text-sm;
  }

  &.sz-md {
    @apply py-2 text-sm;
  }

  &.sz-lg {
    @apply py-3;
  }

  &.sz-xl {
    @apply py-4;
  }

  &.variant-mixed.sz-sm {
    @apply px-2.5;
  }

  &.variant-outlined.sz-sm {
    @apply px-2.5;
  }

  &.variant-soft.sz-sm {
    @apply px-2.5;
  }

  &.variant-mixed.sz-md {
    @apply px-3;
  }

  &.variant-outlined.sz-md {
    @apply px-3;
  }

  &.variant-soft.sz-md {
    @apply px-3;
  }

  &.variant-mixed.sz-lg {
    @apply px-4;
  }

  &.variant-outlined.sz-lg {
    @apply px-4;
  }

  &.variant-soft.sz-lg {
    @apply px-4;
  }

  &.variant-mixed.sz-xl {
    @apply px-5;
  }

  &.variant-outlined.sz-xl {
    @apply px-5;
  }

  &.variant-soft.sz-xl {
    @apply px-5;
  }
}

@utility variant-mixed {
  &.input {
    @apply border bg-(--ui-bg) shadow-xs shadow-gray-950/5 outline-2 -outline-offset-1 focus:outline focus:outline-(--input-outline) dark:shadow-gray-950/35;
  }

  & .textarea {
    @apply border bg-(--ui-bg) shadow-xs shadow-gray-950/5 outline-2 -outline-offset-1 focus:outline focus:outline-(--input-outline) dark:shadow-gray-950/35;
  }

  &.input.sz-sm {
    @apply px-2.5;
  }

  & .textarea.sz-sm {
    @apply px-2.5;
  }

  &.input.sz-md {
    @apply px-3;
  }

  & .textarea.sz-md {
    @apply px-3;
  }

  &.input.sz-lg {
    @apply px-4;
  }

  & .textarea.sz-lg {
    @apply px-4;
  }

  &.input.sz-xl {
    @apply px-5;
  }

  & .textarea.sz-xl {
    @apply px-5;
  }

  &.card {
    @apply border bg-(--ui-bg) shadow-sm shadow-gray-950/5;
  }

  &.annonce {
    @apply border bg-(--ui-bg) shadow-xs shadow-gray-950/5 dark:shadow-gray-950/25;
  }
}

@utility variant-plain {
  &.input {
    @apply rounded-none bg-transparent outline-hidden;
  }

  & .textarea {
    @apply rounded-none bg-transparent outline-hidden;
  }
}

@utility variant-bottomOutlined {
  &.input {
    @apply rounded-none border-b bg-transparent focus:border-b-2 focus:border-(--input-outline) focus:outline-hidden;
  }

  & .textarea {
    @apply rounded-none border-b bg-transparent focus:border-b-2 focus:border-(--input-outline) focus:outline-hidden;
  }
}

@utility switch {
  @apply bg-ui-soft relative block h-5 w-8 rounded-full border transition duration-300 has-checked:border-white/5 dark:bg-(--ui-bg);

  &.variant-primary {
    @apply has-checked:bg-primary-600;
  }

  &.variant-neutral {
    @apply has-checked:bg-gray-950 dark:has-checked:bg-white;
  }
  @apply overflow-hidden has-focus-visible:outline has-focus-visible:outline-2 has-focus-visible:outline-offset-2 has-focus-visible:outline-primary-600;

  & > input {
    @apply absolute -left-6 size-2;
  }
}

@utility switch-thumb {
  @apply absolute inset-x-[1px] inset-y-0 my-auto size-4 rounded-full bg-white shadow-xs shadow-gray-950/25 transition-[transform,width] duration-300 ease-in-out will-change-transform peer-checked:translate-x-3;

  &.variant-neutral {
    @apply absolute inset-x-[1px] inset-y-0 my-auto size-4 rounded-full bg-white shadow-xs shadow-gray-950/25 transition-[transform,width] duration-300 ease-in-out will-change-transform peer-checked:translate-x-3 dark:peer-checked:bg-gray-900;
  }
}

@utility checkbox {
  @apply dark:bg-ui relative block size-[1.125rem] rounded-sm border border-gray-300 shadow-xs shadow-gray-950/5 transition duration-300 has-checked:border-white/5 has-checked:bg-primary-600 dark:border-(--ui-border-color);
  @apply overflow-hidden has-focus-visible:outline has-focus-visible:outline-2 has-focus-visible:outline-offset-2 has-focus-visible:outline-primary-600;

  & > input {
    @apply absolute -left-6 size-2;
  }
}

@utility radio {
  @apply dark:bg-ui relative block size-[1.125rem] rounded-sm border border-gray-300 shadow-xs shadow-gray-950/5 transition duration-300 has-checked:border-white/5 has-checked:bg-primary-600 dark:border-(--ui-border-color);
  @apply overflow-hidden has-focus-visible:outline has-focus-visible:outline-2 has-focus-visible:outline-offset-2 has-focus-visible:outline-primary-600;

  & > input {
    @apply absolute -left-6 size-2;
  }
}

@utility checkbox-icon {
  @apply absolute inset-0 m-auto size-3.5 scale-75 text-gray-950 opacity-0 transition duration-300 group-hover:opacity-25 peer-checked:scale-100 peer-checked:text-white peer-checked:opacity-100 dark:text-white;
}

@utility radio-indicator {
  @apply absolute inset-0 m-auto size-2 scale-75 rounded-full bg-gray-950 opacity-0 transition duration-300 group-hover:opacity-25 peer-checked:scale-100 peer-checked:bg-white peer-checked:opacity-100 peer-checked:shadow-sm peer-checked:shadow-gray-950/25 dark:bg-white;
}

@utility card {
  /* Card */
  @apply rounded-(--card-radius) p-(--card-padding);

  &.variant-outlined {
    @apply border bg-(--ui-bg);
  }

  &.variant-mixed {
    @apply border bg-(--ui-bg) shadow-sm shadow-gray-950/5;
  }

  &.variant-soft {
    @apply bg-(--ui-soft-bg);
  }
}

@utility kbd {
  /* Kbd */
  @apply inline-flex h-5 min-w-5 items-center justify-center rounded-sm border-b border-t border-b-gray-200 border-t-white bg-gray-100 px-1.5 font-sans text-[11px] text-gray-800 ring-1 ring-gray-300 dark:border-b-gray-950 dark:border-t-transparent dark:bg-white/10 dark:text-white dark:ring-white/15;
}

@utility code {
  /* Code */
  @apply inline-block rounded-md  px-1 py-px text-sm;

  &.variant-primary {
    @apply border border-primary-200 bg-primary-50 text-primary-600 dark:border-primary-500/20 dark:bg-primary-500/5 dark:text-primary-300;
  }

  &.variant-gray {
    @apply bg-(--ui-soft-bg) text-(--body-text-color);
  }

  &.variant-neutral {
    @apply border bg-gray-50 text-gray-950 dark:border-gray-500/20 dark:bg-gray-500/5 dark:text-white;
  }
}

@utility variant-gray {
  &.code {
    @apply bg-(--ui-soft-bg) text-(--body-text-color);
  }
  &.progress-indicator {
    @apply bg-gray-600;
  }
}

@utility link {
  /* Link */
  @apply text-primary-600 transition dark:text-primary-400;

  &.variant-ghost {
    @apply hover:underline;
  }

  &.variant-underlined {
    @apply underline;
  }

  &.variant-animated {
    @apply relative before:absolute before:inset-x-0 before:bottom-0 before:h-px before:origin-right before:scale-x-0 before:transition before:duration-200 hover:before:origin-left hover:before:scale-x-100;
  }

  &.intent-info {
    @apply text-info-600 dark:text-info-400;
  }

  &.intent-neutral {
    @apply text-gray-950 dark:text-white;
  }

  &.variant-animated.intent-neutral {
    @apply before:bg-gray-950/50 dark:before:bg-white/50;
  }

  &.variant-animated.intent-info {
    @apply before:bg-info-300 dark:before:bg-info-600;
  }

  &.variant-animated.intent-primary {
    @apply before:bg-primary-300 dark:before:bg-primary-600;
  }

  &.variant-underlined.intent-neutral {
    @apply decoration-gray-950/50 dark:decoration-white/50;
  }

  &.variant-ghost.intent-neutral {
    @apply decoration-gray-950/50 dark:decoration-white/50;
  }
}

@utility variant-underlined {
  &.link {
    @apply underline;
  }

  &.link.intent-neutral {
    @apply decoration-gray-950/50 dark:decoration-white/50;
  }
}

@utility variant-animated {
  &.link {
    @apply relative before:absolute before:inset-x-0 before:bottom-0 before:h-px before:origin-right before:scale-x-0 before:transition before:duration-200 hover:before:origin-left hover:before:scale-x-100;
  }

  &.link.intent-neutral {
    @apply before:bg-gray-950/50 dark:before:bg-white/50;
  }

  &.link.intent-info {
    @apply before:bg-info-300 dark:before:bg-info-600;
  }

  &.link.intent-primary {
    @apply before:bg-primary-300 dark:before:bg-primary-600;
  }
}

@utility intent-info {
  &.link {
    @apply text-info-600 dark:text-info-400;
  }

  &.link.variant-animated {
    @apply before:bg-info-300 dark:before:bg-info-600;
  }
}

@utility intent-neutral {
  &.link {
    @apply text-gray-950 dark:text-white;
  }

  &.link.variant-animated {
    @apply before:bg-gray-950/50 dark:before:bg-white/50;
  }

  &.link.variant-underlined {
    @apply decoration-gray-950/50 dark:decoration-white/50;
  }

  & .link.variant-ghost {
    @apply decoration-gray-950/50 dark:decoration-white/50;
  }
}

@utility intent-primary {
  &.link.variant-animated {
    @apply before:bg-primary-300 dark:before:bg-primary-600;
  }
}

@utility separator {
  /* Separator */
  @apply block h-px w-full bg-(--ui-border-color);

  &.vertical {
    @apply h-full w-px;
  }
}

@utility vertical {
  &.separator {
    @apply h-full w-px;
  }
}

@utility annonce {
  /* Annonce */
  @apply flex w-fit items-center gap-3 rounded-(--annonce-radius);

  &.variant-outlined {
    @apply border;
  }

  &.variant-soft {
    @apply bg-(--ui-soft-bg);
  }

  &.variant-mixed {
    @apply border bg-(--ui-bg) shadow-xs shadow-gray-950/5 dark:shadow-gray-950/25;
  }

  &.sz-xs {
    @apply py-0.5 pl-0.5 pr-3 [&>span]:rounded-[calc(var(--annonce-radius)-2px)];
  }

  &.sz-sm {
    @apply py-1 pl-1 pr-4 [&>span]:rounded-[calc(var(--annonce-radius)-4px)];
  }

  &.sz-md {
    @apply py-1.5 pl-1.5 pr-5 [&>span]:rounded-[calc(var(--annonce-radius)-6px)];
  }

  &.sz-lg {
    @apply py-2 pl-2 pr-6 [&>span]:rounded-[calc(var(--annonce-radius)-8px)];
  }
}

@utility annonce-concern {
  @apply block px-2 py-0.5;

  &.sz-xs {
    @apply text-xs;
  }

  &.sz-sm {
    @apply text-sm;
  }

  &.sz-md {
    @apply px-2.5 text-sm;
  }

  &.sz-lg {
    @apply px-3 py-1 text-base;
  }

  &.variant-primary {
    @apply bg-primary-600 text-white;
  }

  &.variant-neutral {
    @apply border border-gray-500/15 bg-gray-500/15 text-gray-950 dark:text-white;
  }
}

@utility progress {
  /* Progress */
  @apply overflow-hidden rounded-full bg-(--ui-soft-bg);

  &.sz-xs {
    @apply h-0.5;
  }

  &.sz-sm {
    @apply h-1;
  }

  &.sz-md {
    @apply h-1.5;
  }

  &.sz-lg {
    @apply h-2.5;
  }

  &.sz-xl {
    @apply h-3.5;
  }
}

@utility progress-indicator {
  @apply h-full rounded-full transition-transform duration-[660ms] ease-[cubic-bezier(0.65,0,0.35,1)];

  &.variant-primary {
    @apply bg-primary-600;
  }
  &.variant-danger {
    @apply bg-danger-600;
  }
  &.variant-success {
    @apply bg-success-600;
  }
  &.variant-warning {
    @apply bg-warning-600;
  }
  &.variant-gray {
    @apply bg-gray-600;
  }
  &.variant-neutral {
    @apply bg-gray-950 dark:bg-white;
  }
}

@utility avatar {
  /* Avatar */
  @apply relative block rounded-(--avatar-radius) border border-gray-950/5 *:rounded-(--avatar-radius) before:hidden dark:border-white/5;

  & img {
    @apply size-full object-cover;
  }

  &.avatar-status {
    @apply before:absolute before:right-px before:z-1 before:block before:rounded-full before:border-white dark:before:border-gray-950;
  }

  &.sz-xs {
    @apply before:size-2 before:border-[1px];
  }

  &.sz-sm {
    @apply before:size-2 before:border-[1px];
  }

  &.sz-xxs {
    @apply size-6 text-xs before:size-1.5 before:border-[1px];
  }

  &.sz-xs {
    @apply size-7 text-xs;
  }

  &.sz-sm {
    @apply size-8 text-sm;
  }

  &.sz-md {
    @apply size-9 text-sm before:right-px before:size-2.5 before:border-2;
  }

  &.sz-lg {
    @apply size-10 text-base before:right-0.5 before:top-0.5 before:size-2.5 before:border-[2px];
  }

  &.sz-xl {
    @apply size-12 text-lg before:right-[3px] before:top-[3px] before:size-2.5 before:border-2;
  }

  &.sz-xxl {
    @apply size-16 text-sm before:right-1 before:top-1 before:size-3 before:border-2;
  }

  &.sz-xxxl {
    @apply size-20 text-2xl before:right-1.5 before:top-1.5 before:size-3.5 before:border-2;
  }

  &.status-online {
    @apply before:bg-success-600 dark:before:bg-success-400;
  }

  &.status-offline {
    @apply before:bg-gray-600 dark:before:bg-gray-400;
  }

  &.status-away {
    @apply before:bg-warning-600 dark:before:bg-warning-500;
  }

  &.status-busy {
    @apply before:bg-danger-600 dark:before:bg-danger-400;
  }

  &.fallback-neutral {
    @apply flex items-center justify-center border font-medium;
  }

  &.fallback-primary {
    @apply flex items-center justify-center border font-medium;
  }

  &.fallback-neutral {
    @apply border-gray-500/15 bg-gray-500/15 text-gray-800 dark:text-gray-300;
  }

  &.fallback-primary {
    @apply border-primary-500/15 bg-primary-500/15 text-primary-800 dark:text-primary-300;
  }
}

@utility avatar-status {
  &.avatar {
    @apply before:absolute before:right-px before:z-1 before:block before:rounded-full before:border-white dark:before:border-gray-950;
  }
}

@utility sz-xxs {
  &.avatar {
    @apply size-6 text-xs before:size-1.5 before:border-[1px];
  }
}

@utility sz-xxl {
  &.avatar {
    @apply size-16 text-sm before:right-1 before:top-1 before:size-3 before:border-2;
  }
}

@utility sz-xxxl {
  &.avatar {
    @apply size-20 text-2xl before:right-1.5 before:top-1.5 before:size-3.5 before:border-2;
  }
}

@utility status-online {
  &.avatar {
    @apply before:bg-success-600 dark:before:bg-success-400;
  }
}

@utility status-offline {
  &.avatar {
    @apply before:bg-gray-600 dark:before:bg-gray-400;
  }
}

@utility status-away {
  &.avatar {
    @apply before:bg-warning-600 dark:before:bg-warning-500;
  }
}

@utility status-busy {
  &.avatar {
    @apply before:bg-danger-600 dark:before:bg-danger-400;
  }
}

@utility fallback-neutral {
  &.avatar {
    @apply flex items-center justify-center border font-medium;
  }

  &.avatar {
    @apply border-gray-500/15 bg-gray-500/15 text-gray-800 dark:text-gray-300;
  }
}

@utility fallback-primary {
  & .avatar {
    @apply flex items-center justify-center border font-medium;
  }

  &.avatar {
    @apply border-primary-500/15 bg-primary-500/15 text-primary-800 dark:text-primary-300;
  }
}

@utility callout {
  @apply rounded-(--card-radius) border p-5;

  &.variant-warning {
    @apply bg-warning-50 [--title-text-color:var(--color-warning-950)] dark:border-white/5 dark:bg-warning-500/5 dark:[--title-text-color:var(--color-white)];
  }
  &.variant-danger {
    @apply bg-danger-50 [--title-text-color:var(--color-danger-950)] dark:border-white/5 dark:bg-danger-500/5 dark:[--title-text-color:var(--color-white)];
  }
  &.variant-neutral {
    @apply bg-gray-50 [--title-text-color:var(--color-gray-950)] dark:bg-gray-500/5 dark:[--title-text-color:var(--color-white)];
  }
}

@utility callout-title {
  @apply font-medium text-(--title-text-color);
}

@utility callout-description {
  @apply mt-1 text-(--body-text-color);
}

@utility callout-link {
  @apply font-medium text-(--title-text-color) underline;
}

@layer base {
    :root {
        /* Border Radius */
        --card-radius: var(--radius-xl);
        --btn-radius: var(--card-radius);
        --badge-radius: var(--btn-radius);
        --input-radius: var(--btn-radius);
        --avatar-radius: theme(borderRadius.full);
        --annonce-radius: var(--avatar-radius);

        /* Border Color */
        --ui-border-color: var(--color-gray-200);
        --btn-border: var(--color-gray-200);
        --badge-border: var(--btn-border);
        --input-border: var(--ui-border-color);
        --ui-disabled-border: var(--color-gray-100);
        --ui-error-border: var(--color-danger-600);
        --ui-success-border: var(--color-success-600);
        --input-outline: var(--color-primary-600);

        /* Background */

        --ui-bg: --theme(--color-white / var(--ui-bg-opacity));
        --ui-soft-bg: var(--color-gray-100);
        --overlay-bg: --theme(--color-gray-950 / 0.25);
        --input-bg: var(--ui-soft-bg);
        --ui-disabled-bg: var(--color-gray-100);

        /* Padding */
        --card-padding: --spacing(6);

        /* Typography */
        --display-text-color: var(--color-gray-950);
        --title-text-color: var(--display-text-color);
        --body-text-color: var(--color-gray-700);
        --caption-text-color: var(--color-gray-500);
        --placeholder-text-color: var(--color-gray-400);

        /* Opacity */
        --ui-bg-opacity: 1;

        color: var(--body-text-color);

        @apply dark:[--body-text-color:var(--color-gray-300)] dark:[--display-text-color:var(--color-white)] dark:[--placeholder-text-color:var(--color-gray-600)] dark:[--ui-bg:theme('colors.gray.900/var(--ui-bg-opacity)')] dark:[--ui-border-color:var(--color-gray-800)] dark:[--ui-disabled-bg:var(--color-gray-900)] dark:[--ui-soft-bg:var(--color-gray-800)];
    }

    dialog[open] {
        opacity: 1;
        transform: scale(1);
    }

    dialog {
        opacity: 0;
        transform: scale(0.9);
        transition:
            opacity 0.1s ease-out,
            transform 0.1s ease-out allow-discrete,
            overlay 0.1s ease-out allow-discrete,
            display 0.1s ease-out allow-discrete;
    }

    @starting-style {
        dialog[open] {
            opacity: 0;
            transform: scale(0.9);
        }
    }

    dialog::backdrop {
        background-color: rgb(0 0 0 / 0%);
        transition:
            display 0.1s allow-discrete,
            overlay 0.1s allow-discrete,
            background-color 0.1s;
    }

    dialog[open]::backdrop {
        background-color: var(--overlay-bg);
    }

    @starting-style {
        dialog[open]::backdrop {
            background-color: rgb(0 0 0 / 0%);
        }
    }

    *,
    .border {
        border-color: var(--ui-border-color);
    }

    button:disabled {
        border: none !important;
        background: var(--ui-disabled-bg) !important;
        background-image: none !important;
        box-shadow: none !important;
        color: var(--placeholder-text-color) !important;
        pointer-events: none !important;
        @apply before:hidden;
    }

    a:focus-visible,
    button:focus-visible {
        @apply outline-2 outline-offset-2 outline-primary-600 focus-visible:outline;
    }

    input:user-invalid,
    textarea:user-invalid,
    select:user-invalid {
        --input-border: var(--ui-error-border);
        --ui-border-color: var(--ui-error-border);
        --input-outline: var(--ui-error-border);
        --title-text-color: var(--color-danger-600);

        @apply dark:[--title-text-color:var(--color-danger-400)];
    }

    /* Data attributes */
    /* Rounded Data attributes */
    [data-rounded='none'] {
        --card-radius: theme(borderRadius.none);
        --avatar-radius: theme(borderRadius.none);
    }

    [data-rounded='default'] {
        --card-radius: var(--radius);
    }

    [data-rounded='small'] {
        --card-radius: var(--radius-sm);
    }

    [data-rounded='medium'] {
        --card-radius: var(--radius-md);
    }

    [data-rounded='large'] {
        --card-radius: var(--radius-lg);
    }

    [data-rounded='xlarge'] {
        --card-radius: var(--radius-xl);
    }

    [data-rounded='2xlarge'] {
        --card-radius: var(--radius-2xl);
        --input-radius: var(--radius-xl);
    }

    [data-rounded='3xlarge'] {
        --card-radius: var(--radius-3xl);
        --input-radius: var(--radius-xl);
    }

    [data-rounded='full'] {
        --card-radius: var(--radius-3xl);
        --btn-radius: theme('borderRadius.full');
        --input-radius: var(--radius-2xl);
    }

    /* Shade Data Attributes */

    [data-shade='glassy'] {
        --ui-bd-blur: var(--blur-2xl);
        --ui-bg-opacity: 0.75;
        --ui-bg: theme('colors.white/var(--ui-bg-opacity)');

        @apply dark:[--ui-bg-opacity:0.5] dark:[--ui-bg:var(--color-gray-700)]/(--ui-bg-opacity) dark:[--ui-border-color:var(--color-gray-50)]/10 dark:[--ui-soft-bg:var(--color-gray-600)]/50;
    }

    [data-shade='800'] {
        @apply dark:[--ui-bg:var(--color-gray-800)] dark:[--ui-border-color:var(--color-gray-700)] dark:[--ui-soft-bg:var(--color-gray-900)];
    }

    [data-shade='900'] {
        @apply dark:[--ui-bg:var(--color-gray-900)] dark:[--ui-border-color:var(--color-gray-800)] dark:[--ui-soft-bg:var(--color-gray-800)];
    }

    [data-shade='950'] {
        @apply dark:[--ui-bg:var(--color-gray-950)] dark:[--ui-border-color:var(--color-gray-800)] dark:[--ui-soft-bg:var(--color-gray-800)];
    }
}
